<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <title>Unyo File Access Check</title>
    <style>
        body { background: #1a1a1a; color: #00ff00; font-family: monospace; padding: 20px; }
        .log { border: 1px solid #444; padding: 10px; background: #000; white-space: pre-wrap; margin-top: 10px; }
        .status-ok { color: #00ff00; font-weight: bold; }
        .status-error { color: #ff4444; font-weight: bold; }
    </style>
</head>
<body>
    <h2>運用テキスト取得テスト</h2>
    <div>URL: <span id="urlDisplay"></span></div>
    <div id="status">チェック中...</div>
    
    <h3>取得したテキストの内容:</h3>
    <div id="log" class="log">取得を待機中...</div>

<script>
// ここにアクセスしたい相対パスを記述
const UNYO_TXT_URL = "unyo/h/8R.txt";
document.getElementById('urlDisplay').textContent = UNYO_TXT_URL;

async function testAccess() {
    const statusEl = document.getElementById('status');
    const logEl = document.getElementById('log');

    try {
        // キャッシュを避けるためにタイムスタンプを付与
        const response = await fetch(UNYO_TXT_URL + "?" + Date.now());
        
        if (response.ok) {
            const text = await response.ok ? await response.text() : "取得失敗";
            statusEl.innerHTML = '<span class="status-ok">成功: ファイルが見つかりました</span>';
            logEl.textContent = text;
        } else {
            statusEl.innerHTML = `<span class="status-error">失敗: HTTPステータス ${response.status}</span>`;
            logEl.textContent = "ファイルが存在しないか、パスが間違っています。";
        }
    } catch (e) {
        statusEl.innerHTML = '<span class="status-error">エラー: アクセスがブロックされました</span>';
        logEl.textContent = e.toString() + "\n\n【考えられる理由】\n1. ファイルの場所が違う\n2. CORSポリシー違反（異なるドメインから読み込もうとしている）";
    }
}

testAccess();
</script>
</body>
</html>
